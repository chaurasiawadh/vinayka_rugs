(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{7699:function(e,t,r){Promise.resolve().then(r.bind(r,6941))},6941:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a=r(3827),s=r(4090),n=r(6678),o=r(7907),i=r(5083),l=r(1049),c=r(1213),d=r(5421),u=r(2235);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,r(7461).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var m=r(684),h=r(5904),f=r(3151),p=r(7326),y=r(2457),g=r(7307),b=r(2600),v=r(9461),N=r(8121),j=r(4499),k=r(2730);let w=e=>{let{icon:t,label:r,value:s}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-4 group",children:[(0,a.jsx)("div",{className:"mt-1 text-gray-300 group-hover:text-terracotta transition-colors p-1.5 bg-gray-50 rounded-md",children:(0,a.jsx)(t,{size:18})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase text-gray-400 mb-1 tracking-wider",children:r}),(0,a.jsx)("p",{className:"text-gray-800 font-medium text-sm text-balance",children:s})]})]})};var Z=()=>{var e,t,r;let{user:Z,userProfile:M,loading:z,logout:C}=(0,n.a)(),S=(0,o.useRouter)(),[P,E]=(0,s.useState)(!1),[A,L]=(0,s.useState)(!1),[I,_]=(0,s.useState)({});(0,s.useEffect)(()=>{z||Z||S.push("/login"),M&&_(M)},[Z,M,z,S]);let q=e=>{let{name:t,value:r}=e.target;_(e=>({...e,[t]:r}))},D=async()=>{if(Z&&M){L(!0);try{let e=(0,N.JU)(j.db,"users",Z.uid);await (0,N.r7)(e,I),(I.firstName!==M.firstName||I.lastName!==M.lastName)&&await (0,k.ck)(Z,{displayName:"".concat(I.firstName," ").concat(I.lastName)}),E(!1)}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile.")}finally{L(!1)}}};if(z)return(0,a.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"animate-spin text-terracotta",size:32})});if(!Z||!M)return null;let R=(null===(e=M.createdAt)||void 0===e?void 0:e.seconds)?new Date(1e3*M.createdAt.seconds).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Recently";return(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen pb-20",children:[(0,a.jsx)("div",{className:"bg-gray-900 text-white pt-24 pb-20 px-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"font-serif text-4xl mb-2",children:"My Account"}),(0,a.jsx)("p",{className:"text-gray-400 font-light",children:"Manage your profile and view your orders"})]})}),(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-6 -mt-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden sticky top-24",children:[(0,a.jsxs)("div",{className:"p-8 text-center border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"w-24 h-24 bg-terracotta/10 rounded-full mx-auto flex items-center justify-center text-terracotta text-3xl font-serif font-bold mb-4 shadow-inner",children:[null===(t=M.firstName)||void 0===t?void 0:t[0],null===(r=M.lastName)||void 0===r?void 0:r[0]]}),(0,a.jsxs)("h2",{className:"text-xl font-bold font-serif text-gray-900",children:[M.firstName," ",M.lastName]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:M.email}),(0,a.jsx)("div",{className:"mt-4 inline-block px-3 py-1 bg-gray-100 rounded-full text-xs font-bold text-gray-600 uppercase tracking-widest",children:M.role})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("button",{onClick:()=>C().then(()=>S.push("/")),className:"w-full flex items-center justify-center gap-2 text-error hover:bg-error/5 py-3 rounded-lg transition-colors font-medium text-sm group",children:[(0,a.jsx)(l.Z,{size:16,className:"group-hover:-translate-x-1 transition-transform"})," Sign Out"]})})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sm:p-8 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-gray-50",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold font-serif flex items-center gap-2 text-gray-800",children:[(0,a.jsx)(c.Z,{size:20,className:"text-terracotta"})," Profile Information"]}),P?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{E(!1),_(M)},className:"p-2 text-gray-400 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(u.Z,{size:18})}),(0,a.jsxs)("button",{onClick:D,disabled:A,className:"flex items-center gap-1.5 px-3 py-1.5 bg-terracotta text-white rounded text-sm hover:bg-black transition-colors",children:[A?(0,a.jsx)(i.Z,{size:12,className:"animate-spin"}):(0,a.jsx)(x,{size:14})," Save"]})]}):(0,a.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 text-sm font-medium text-terracotta hover:underline",children:[(0,a.jsx)(d.Z,{size:16})," Edit"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-8 gap-x-12",children:[P?(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block",children:"First Name"}),(0,a.jsx)("input",{name:"firstName",value:I.firstName||"",onChange:q,className:"w-full border border-gray-300 rounded p-2 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none"})]}):(0,a.jsx)(w,{icon:c.Z,label:"First Name",value:M.firstName}),P?(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block",children:"Last Name"}),(0,a.jsx)("input",{name:"lastName",value:I.lastName||"",onChange:q,className:"w-full border border-gray-300 rounded p-2 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none"})]}):(0,a.jsx)(w,{icon:c.Z,label:"Last Name",value:M.lastName}),(0,a.jsx)(w,{icon:m.Z,label:"Email Address",value:M.email}),P?(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block",children:"Phone Number"}),(0,a.jsx)("input",{name:"phone",value:I.phone||"",onChange:q,className:"w-full border border-gray-300 rounded p-2 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none"})]}):(0,a.jsx)(w,{icon:h.Z,label:"Phone Number",value:M.phone||"Not Provided"}),P?(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block",children:"Profession"}),(0,a.jsx)("input",{name:"profession",value:I.profession||"",onChange:q,className:"w-full border border-gray-300 rounded p-2 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none"})]}):(0,a.jsx)(w,{icon:f.Z,label:"Profession",value:M.profession||"Not Specified"}),P?(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block",children:"Company"}),(0,a.jsx)("input",{name:"companyName",value:I.companyName||"",onChange:q,className:"w-full border border-gray-300 rounded p-2 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none"})]}):(0,a.jsx)(w,{icon:p.Z,label:"Company",value:M.companyName||"-"}),P?(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block",children:"City"}),(0,a.jsx)("input",{name:"city",value:I.city||"",onChange:q,className:"w-full border border-gray-300 rounded p-2 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none"})]}):(0,a.jsx)(w,{icon:y.Z,label:"City",value:M.city||"-"}),(0,a.jsx)(w,{icon:g.Z,label:"Member Since",value:R})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,a.jsxs)("h4",{className:"text-xs font-bold uppercase text-gray-500 mb-3 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{size:16})," Address"]}),P?(0,a.jsx)("textarea",{name:"address",value:I.address||"",onChange:q,rows:3,className:"w-full border border-gray-300 rounded p-3 text-sm focus:border-terracotta focus:ring-1 focus:ring-terracotta outline-none resize-none"}):(0,a.jsx)("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-100 text-sm text-gray-700 leading-relaxed",children:M.address||"No address provided."})]})]}),(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sm:p-8 animate-fade-in animation-delay-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold font-serif mb-6 flex items-center gap-2 text-gray-800",children:[(0,a.jsx)(b.Z,{size:20,className:"text-terracotta"})," Recent Orders"]}),(0,a.jsxs)("div",{className:"text-center py-12 px-4 bg-gray-50/50 rounded-xl border-2 border-dashed border-gray-200",children:[(0,a.jsx)("div",{className:"bg-white p-3 rounded-full inline-flex mb-4 shadow-sm",children:(0,a.jsx)(b.Z,{size:24,className:"text-gray-300"})}),(0,a.jsx)("h4",{className:"text-gray-900 font-medium mb-1",children:"No orders yet"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-6 max-w-xs mx-auto",children:"Looks like you haven't placed an order for our exquisite rugs yet."}),(0,a.jsx)(v.Z,{size:"sm",onClick:()=>S.push("/shop"),children:"Explore Collection"})]})]})]})]})})]})}},9461:function(e,t,r){"use strict";var a=r(3827);r(4090),t.Z=e=>{let{children:t,variant:r="primary",size:s="md",fullWidth:n=!1,className:o="",...i}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg"," ").concat({primary:"bg-terracotta text-white hover:bg-[#6D4A30] focus:ring-terracotta",secondary:"bg-teal text-white hover:bg-[#0A3642] focus:ring-teal",outline:"border-2 border-terracotta text-terracotta hover:bg-terracotta hover:text-white focus:ring-terracotta",ghost:"text-text-body hover:bg-gray-100 focus:ring-gray-500"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-8 py-3.5 text-lg"}[s]," ").concat(n?"w-full":""," ").concat(o),...i,children:t})}},6678:function(e,t,r){"use strict";r.d(t,{H:function(){return c},a:function(){return d}});var a=r(3827),s=r(4090),n=r(2730),o=r(8121),i=r(4499);let l=(0,s.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[x,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=null,t=(0,n.Aj)(i.I,async t=>{if(c(t),e&&(e(),e=null),t){m(!0);try{e=(0,o.cf)((0,o.JU)(i.db,"users",t.uid),e=>{e.exists()?u(e.data()):u(null),m(!1)},e=>{console.error("Error listening to user profile:",e),m(!1)})}catch(e){console.error("Error setting up profile listener:",e),m(!1)}}else u(null),m(!1)});return()=>{t(),e&&e()}},[]);let h=async()=>{await (0,n.w7)(i.I),c(null),u(null)};return(0,a.jsx)(l.Provider,{value:{user:r,userProfile:d,loading:x,logout:h},children:!x&&t})},d=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},4499:function(e,t,r){"use strict";r.d(t,{I:function(){return l},db:function(){return c},t:function(){return d}});var a=r(6142),s=r(2730),n=r(8121),o=r(4905);let i=(0,a.ZF)({apiKey:"AIzaSyB5KVEDkLam_Zdz0bW9P-8sJ3EdtyaneD8",authDomain:"vinaykarugs.firebaseapp.com",projectId:"vinaykarugs",storageBucket:"vinaykarugs.firebasestorage.app",messagingSenderId:"1020806689038",appId:"1:1020806689038:web:c524176fcec737508fe75f",measurementId:"G-2S2V45SXJC"}),l=(0,s.v0)(i),c=(0,n.ad)(i),d=(0,o.cF)(i)},3151:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},7326:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},7307:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},5083:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},1049:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},684:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2457:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5421:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},5904:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2600:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},1213:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2235:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[358,315,313,971,69,744],function(){return e(e.s=7699)}),_N_E=e.O()}]);