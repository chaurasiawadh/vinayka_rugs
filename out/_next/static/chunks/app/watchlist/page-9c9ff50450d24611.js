(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{7687:function(e,t,r){Promise.resolve().then(r.bind(r,4563))},4563:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(3827);r(4090);var a=r(2319);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(7461).Z)("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);var n=r(489),o=r(2600),c=r(9461),l=r(8792),u=r(6678),d=()=>{let{wishlist:e,products:t,toggleWishlist:r,updateWishlistPreferences:d,addToCart:m,openLoginModal:h}=(0,a.L)(),{user:f}=(0,u.a)();if(!f)return(0,s.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center bg-cream px-4 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm text-terracotta",children:(0,s.jsx)(i,{size:32})}),(0,s.jsx)("h2",{className:"text-3xl font-serif mb-3",children:"Your Watchlist"}),(0,s.jsx)("p",{className:"text-text-muted mb-8 max-w-md",children:"Login to view your saved items, track prices, and get back-in-stock alerts."}),(0,s.jsx)(c.Z,{onClick:h,children:"Login to View Watchlist"})]});let x=e.map(e=>{let r=t.find(t=>t.id===e.productId);return r?{...r,...e}:null}).filter(Boolean),p=e=>{var t;(null===(t=e.sizes)||void 0===t?void 0:t.length)>0&&(m(e,e.sizes[0],1),r(e.id))};return 0===x.length?(0,s.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center bg-cream px-4 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-terracotta",children:(0,s.jsx)(i,{size:32})}),(0,s.jsx)("h2",{className:"text-2xl font-serif mb-2",children:"Your Watchlist is Empty"}),(0,s.jsx)("p",{className:"text-text-muted mb-6",children:"Save items you love to get notified about price drops."}),(0,s.jsx)(l.default,{href:"/shop",children:(0,s.jsx)(c.Z,{children:"Explore Collection"})})]}):(0,s.jsx)("div",{className:"bg-cream min-h-screen py-12",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("h1",{className:"text-3xl font-serif mb-8",children:["My Watchlist (",x.length,")"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-6",children:x.map(e=>{var t;return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm flex flex-col sm:flex-row gap-6 animate-fade-in group",children:[(0,s.jsxs)("div",{className:"w-full sm:w-32 h-40 bg-gray-100 rounded-lg overflow-hidden shrink-0 relative",children:[(0,s.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),!e.inStock&&(0,s.jsx)("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-bold bg-black text-white px-2 py-1",children:"SOLD OUT"})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.default,{href:"/product/".concat(e.id),className:"font-serif text-xl hover:text-terracotta transition-colors",children:e.name}),(0,s.jsx)("p",{className:"text-text-muted text-sm mt-1",children:e.collection})]}),(0,s.jsx)("button",{onClick:()=>r(e.id),className:"text-gray-400 hover:text-error hover:bg-error/5 p-2 rounded-full transition-colors",title:"Remove from watchlist",children:(0,s.jsx)(n.Z,{size:20})})]}),(0,s.jsx)("div",{className:"mt-4 flex items-baseline gap-2",children:(0,s.jsxs)("span",{className:"text-lg font-medium",children:["â‚¹",e.price.toLocaleString("en-IN")]})}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 items-center justify-between border-t border-gray-100 pt-4",children:[(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group/opt",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(t=e.preferences)||void 0===t?void 0:t.priceDrop)||!1,onChange:t=>d(e.id,{priceDrop:t.target.checked}),className:"accent-terracotta"}),(0,s.jsx)("span",{className:"text-xs text-text-muted group-hover/opt:text-terracotta transition-colors",children:"Alert: Price Drop"})]})}),e.inStock&&(0,s.jsxs)(c.Z,{size:"sm",variant:"outline",onClick:()=>p(e),children:[(0,s.jsx)(o.Z,{size:14,className:"mr-2"})," Move to Cart"]})]})]})]},e.id)})}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm sticky top-24",children:[(0,s.jsx)("h3",{className:"font-serif text-lg mb-4",children:"Summary"}),(0,s.jsxs)("p",{className:"text-sm text-text-muted mb-6",children:["You have ",x.length," items saved. Enable notifications to never miss a deal."]}),(0,s.jsxs)("div",{className:"bg-teal/5 border border-teal/10 rounded-lg p-4 flex items-start gap-3",children:[(0,s.jsx)(i,{size:20,className:"text-teal mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-teal-900",children:"Notifications Active"}),(0,s.jsxs)("p",{className:"text-xs text-teal-700 mt-1",children:["We will email you at ",f.email]})]})]}),(0,s.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:(0,s.jsx)(l.default,{href:"/shop",children:(0,s.jsx)(c.Z,{fullWidth:!0,variant:"outline",children:"Continue Shopping"})})})]})})]})]})})}},9461:function(e,t,r){"use strict";var s=r(3827);r(4090),t.Z=e=>{let{children:t,variant:r="primary",size:a="md",fullWidth:i=!1,className:n="",...o}=e;return(0,s.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg"," ").concat({primary:"bg-terracotta text-white hover:bg-[#6D4A30] focus:ring-terracotta",secondary:"bg-teal text-white hover:bg-[#0A3642] focus:ring-teal",outline:"border-2 border-terracotta text-terracotta hover:bg-terracotta hover:text-white focus:ring-terracotta",ghost:"text-text-body hover:bg-gray-100 focus:ring-gray-500"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-8 py-3.5 text-lg"}[a]," ").concat(i?"w-full":""," ").concat(n),...o,children:t})}},977:function(e,t,r){"use strict";r.d(t,{Bo:function(){return h},NY:function(){return l},Nj:function(){return u},PV:function(){return o},Tu:function(){return f},Ul:function(){return a},WF:function(){return d},Y:function(){return c},aA:function(){return s},gU:function(){return i},wG:function(){return m},zf:function(){return n}});let s=["Modern","Traditional","Transitional","Tribal"],a=["Viraasat","Aether","Silk Route","Cryptographic","Landscapes"],i=["Wool","Bamboo Silk","Viscose","Cotton","Jute","Silk & Wool Blend","Micro Silk Fiber"],n=["2x4 ft","3x5 ft","4x6 ft","5x7 ft","5x8 ft","6x9 ft","8x10 ft","9x12 ft","10x14 ft","Custom"],o=["Quality","Softness","Value for money","Looks good","Comfort","Durability","Thickness","Color quality"],c="+91 9936169852",l="919936169852",u="concierge@vinaykarugs.com",d="https://images.unsplash.com/photo-1615529182904-14819c35db37?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",m=[{id:"1",name:"Aether Mist",brand:"Vinayka Rugs",sku:"AE-001",price:125e3,mrp:18e4,discount:30,taxInclusive:!0,emiAvailable:!0,shortDescription:"A dreamy abstract landscape in hand-knotted wool and silk.",description:"Inspired by the ephemeral nature of morning mist, the Aether Mist rug combines high-altitude wool with pure bamboo silk accents.",category:"Modern",collection:"Aether",images:["https://picsum.photos/id/103/800/1000"],sizes:["8x10 ft","9x12 ft"],colors:["Grey","Blue"],inStock:!0,rating:4.8,reviews:12,specifications:{weaveType:"Cut Pile",pileHeight:"Medium",construction:"Hand-knotted",indoorOutdoor:"Indoor",stainResistant:"No",specialFeatures:"Anti-static, Soft Touch",roomType:"Living Room",waterResistance:"No",material:"Wool & Bamboo Silk",backMaterial:"Cotton Canvas",careInstructions:"Professional Clean Only",brand:"Vinayka Rugs",origin:"India",includedComponents:"Rug",itemHeight:"1 cm",manufacturer:"Vinayka Rugs Ltd",manufacturerContact:"contact@vinayka.com",unitCount:"1",warranty:"1 Year Manufacturing",color:"Grey/Blue",theme:"Abstract",pattern:"Abstract",shape:"Rectangular",rugForm:"Area Rug",style:"Modern",occasion:"Home Decor",size:"8x10 Feet",itemWeight:"15 Kg",dimensionsLxW:"240 x 300 cm",numberOfPieces:"1",itemThickness:"12 mm"},aboutItems:["Luxurious appearance","Handmade in India","Premium Wool"],reviewSummary:"Customers love the soft texture.",reviewTags:["Quality","Softness"],reviewDistribution:{fiveStar:80,fourStar:10,threeStar:5,twoStar:0,oneStar:5},deliveryText:"Tue, 25 Dec",returnPolicy:"30 Days"}],h=5e4,f=2500},6678:function(e,t,r){"use strict";r.d(t,{H:function(){return l},a:function(){return u}});var s=r(3827),a=r(4090),i=r(2730),n=r(8121),o=r(4499);let c=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,a.useState)(null),[u,d]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=(0,i.Aj)(o.I,async e=>{if(l(e),e)try{let t=await (0,n.QT)((0,n.JU)(o.db,"users",e.uid));t.exists()?d(t.data()):d(null)}catch(e){console.error("Error fetching user profile:",e)}else d(null);h(!1)});return()=>e()},[]);let f=async()=>{await (0,i.w7)(o.I),l(null),d(null)};return(0,s.jsx)(c.Provider,{value:{user:r,userProfile:u,loading:m,logout:f},children:!m&&t})},u=()=>{let e=(0,a.useContext)(c);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},2319:function(e,t,r){"use strict";r.d(t,{L:function(){return m},u:function(){return d}});var s=r(3827),a=r(4090),i=r(977),n=r(6241),o=r(6678),c=r(4499),l=r(8121);let u=(0,a.createContext)(void 0),d=e=>{let{children:t}=e,{products:r,loading:d}=(0,n.r)(),{user:m}=(0,o.a)(),[h,f]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[g,v]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[M,A]=(0,a.useState)(""),[I,E]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!m){p([]);return}let e=(0,l.hJ)(c.db,"users",m.uid,"watchlist"),t=(0,l.cf)(e,e=>{p(e.docs.map(e=>({productId:e.id,...e.data()})))},e=>{console.error("Error fetching watchlist:",e)});return()=>t()},[m]);let z=e=>x.some(t=>t.productId===e),T=async e=>{if(!m){C(!0);return}let t=z(e),r=(0,l.JU)(c.db,"users",m.uid,"watchlist",e);try{t?(await (0,l.oe)(r),L("Removed from watchlist","info")):(await (0,l.pl)(r,{productId:e,addedAt:(0,l.Bt)(),preferences:{priceDrop:!0,backInStock:!0,onSale:!0}}),L("Added to watchlist","success"))}catch(e){console.error("Error updating watchlist:",e),L("Failed to update watchlist","error")}},B=async(e,t)=>{if(m)try{let r=(0,l.JU)(c.db,"users",m.uid,"watchlist",e),s=x.find(t=>t.productId===e);s&&(await (0,l.pl)(r,{preferences:{...s.preferences,...t}},{merge:!0}),L("Alert preferences updated","success"))}catch(e){L("Could not update preferences","error")}},D=()=>f([]),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";E({message:e,type:t}),setTimeout(()=>E(null),3e3)},Z=h.reduce((e,t)=>e+t.price*t.quantity,0),R=h.reduce((e,t)=>e+t.quantity,0),W=Math.max(0,i.Bo-Z);return(0,s.jsx)(u.Provider,{value:{products:r,loading:d,cart:h,wishlist:x,orders:g,bespokeRequests:b,addToCart:(e,t,r)=>{f(s=>s.find(r=>r.id===e.id&&r.selectedSize===t)?s.map(s=>s.id===e.id&&s.selectedSize===t?{...s,quantity:s.quantity+r}:s):[...s,{...e,selectedSize:t,quantity:r}]),j(!0),L("Added ".concat(e.name," to cart"),"success")},removeFromCart:(e,t)=>{f(r=>r.filter(r=>!(r.id===e&&r.selectedSize===t)))},updateQuantity:(e,t,r)=>{r<1||f(s=>s.map(s=>s.id===e&&s.selectedSize===t?{...s,quantity:r}:s))},toggleWishlist:T,isInWishlist:z,updateWishlistPreferences:B,clearCart:D,placeOrder:e=>{v(t=>[e,...t]),D()},submitBespokeRequest:e=>{y(t=>[e,...t])},cartTotal:Z,cartCount:R,shippingDiff:W,isCartOpen:w,setIsCartOpen:j,isBespokeOpen:k,openBespokeModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"General";A(e),N(!0)},closeBespokeModal:()=>{N(!1),A("")},bespokeSource:M,isLoginModalOpen:S,openLoginModal:()=>C(!0),closeLoginModal:()=>C(!1),notify:L,notification:I},children:t})},m=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useShop must be used within a ShopProvider");return e}},6241:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var s=r(4090),a=r(8121),i=r(4499),n=r(977);let o=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,a.IO)((0,a.hJ)(i.db,"products"),(0,a.Xo)("createdAt","desc")),r=(0,a.cf)(e,e=>{t(e.docs.map(e=>({id:e.id,...e.data()}))),o(!1)},e=>{console.error("Firestore Error:",e),t(n.wG),o(!1)});return()=>r()},[]),{products:e,loading:r}}},4499:function(e,t,r){"use strict";r.d(t,{I:function(){return c},db:function(){return l},t:function(){return u}});var s=r(6142),a=r(2730),i=r(8121),n=r(4905);let o=(0,s.ZF)({apiKey:"AIzaSyB5KVEDkLam_Zdz0bW9P-8sJ3EdtyaneD8",authDomain:"vinaykarugs.firebaseapp.com",projectId:"vinaykarugs",storageBucket:"vinaykarugs.firebasestorage.app",messagingSenderId:"1020806689038",appId:"1:1020806689038:web:c524176fcec737508fe75f",measurementId:"G-2S2V45SXJC"}),c=(0,a.v0)(o),l=(0,i.ad)(o),u=(0,n.cF)(o)},2600:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(7461).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},489:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[358,315,313,792,971,69,744],function(){return e(e.s=7687)}),_N_E=e.O()}]);