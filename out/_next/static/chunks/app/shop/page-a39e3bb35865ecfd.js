(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{9901:function(e,t,s){Promise.resolve().then(s.bind(s,4595))},4595:function(e,t,s){"use strict";s.r(t);var r=s(3827),i=s(4090),c=s(7907),a=s(7211),l=s(3441),n=s(9259),d=s(8031),o=s(977),m=s(9810),x=s(9461),u=s(2319);t.default=()=>{let e=(0,c.useSearchParams)(),t=e.get("cat"),s=e.get("collection"),{products:h,openBespokeModal:p,loading:f}=(0,u.L)(),[g,j]=(0,i.useState)(t?[t]:[]),[b,N]=(0,i.useState)([]),[y,v]=(0,i.useState)("popular"),[w,k]=(0,i.useState)(!1),C=(0,i.useMemo)(()=>h.filter(e=>{let t=0===g.length||g.includes(e.category),r=0===b.length||b.includes(e.specifications.material),i=!s||e.collection===s;return t&&r&&i}).sort((e,t)=>"price-low-high"===y?e.price-t.price:"price-high-low"===y?t.price-e.price:"newest"===y?(t.isNew?1:0)-(e.isNew?1:0):t.rating-e.rating),[g,b,y,s,h]),Z=(e,t,s)=>{s(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return f?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-terracotta border-t-transparent rounded-full animate-spin"})}):(0,r.jsx)("div",{className:"bg-cream min-h-screen pb-20 pt-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 border-b border-gray-200 pb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Shop"}),(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-serif text-text-body mt-2",children:s?"".concat(s," Collection"):"All Rugs"}),(0,r.jsxs)("p",{className:"text-text-muted mt-2",children:[C.length," results found"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[(0,r.jsxs)("button",{className:"md:hidden flex items-center gap-2 font-medium",onClick:()=>k(!w),children:[(0,r.jsx)(a.Z,{size:18})," Filters"]}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("button",{className:"flex items-center gap-2 text-sm font-medium hover:text-terracotta",children:["Sort by: ",(0,r.jsx)("span",{className:"text-gray-900",children:y.replace("-"," ")})," ",(0,r.jsx)(l.Z,{size:14})]}),(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-20",children:["popular","newest","price-low-high","price-high-low"].map(e=>(0,r.jsx)("button",{onClick:()=>v(e),className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-50 capitalize",children:e.replace(/-/g," ")},e))})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-8",children:[(0,r.jsxs)("aside",{className:"w-64 flex-shrink-0 ".concat(w?"fixed inset-0 z-50 bg-white p-6 overflow-y-auto":"hidden md:block"),children:[w&&(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6 md:hidden",children:[(0,r.jsx)("h2",{className:"font-serif text-xl",children:"Filters"}),(0,r.jsx)("button",{onClick:()=>k(!1),children:(0,r.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-4",children:"Category"}),(0,r.jsx)("div",{className:"space-y-2",children:o.aA.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,r.jsx)("div",{className:"w-4 h-4 border rounded flex items-center justify-center transition-colors ".concat(g.includes(e)?"bg-terracotta border-terracotta":"border-gray-300 group-hover:border-terracotta"),children:g.includes(e)&&(0,r.jsx)(n.Z,{size:10,className:"text-white"})}),(0,r.jsx)("input",{type:"checkbox",className:"hidden",checked:g.includes(e),onChange:()=>Z(e,g,j)}),(0,r.jsx)("span",{className:"text-sm ".concat(g.includes(e)?"text-text-body font-medium":"text-text-muted"),children:e})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-4",children:"Material"}),(0,r.jsx)("div",{className:"space-y-2",children:o.gU.map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,r.jsx)("div",{className:"w-4 h-4 border rounded flex items-center justify-center transition-colors ".concat(b.includes(e)?"bg-terracotta border-terracotta":"border-gray-300 group-hover:border-terracotta"),children:b.includes(e)&&(0,r.jsx)(n.Z,{size:10,className:"text-white"})}),(0,r.jsx)("input",{type:"checkbox",className:"hidden",checked:b.includes(e),onChange:()=>Z(e,b,N)}),(0,r.jsx)("span",{className:"text-sm ".concat(b.includes(e)?"text-text-body font-medium":"text-text-muted"),children:e})]},e))})]})]}),w&&(0,r.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-100 md:hidden",children:(0,r.jsx)(x.Z,{fullWidth:!0,onClick:()=>k(!1),children:"Show Results"})})]}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"sm:col-span-2 lg:col-span-3 bg-teal text-white rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-amber font-medium",children:[(0,r.jsx)(d.Z,{size:18}),(0,r.jsx)("span",{className:"text-sm uppercase tracking-wide",children:"Bespoke Services"})]}),(0,r.jsx)("h3",{className:"font-serif text-2xl mb-1",children:"Can't find the perfect match?"}),(0,r.jsx)("p",{className:"text-white/80 text-sm",children:"Customize colors, sizes, and designs to fit your space perfectly."})]}),(0,r.jsx)(x.Z,{onClick:()=>p("Shop Page Banner"),className:"bg-white text-teal hover:bg-gray-100 border-none shrink-0",children:"Create Custom Rug"})]}),C.length>0?C.map(e=>(0,r.jsx)(m.Z,{product:e},e.id)):(0,r.jsxs)("div",{className:"col-span-full py-20 text-center bg-white rounded-lg border border-dashed border-gray-300",children:[(0,r.jsx)("h3",{className:"font-serif text-xl mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-text-muted mb-6",children:"Try adjusting your filters."}),(0,r.jsx)(x.Z,{variant:"outline",onClick:()=>{j([]),N([])},children:"Clear Filters"})]})]})})]})]})})}},9259:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},3441:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7211:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},8031:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]])},7907:function(e,t,s){"use strict";var r=s(5313);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[358,315,313,792,810,971,69,744],function(){return e(e.s=9901)}),_N_E=e.O()}]);